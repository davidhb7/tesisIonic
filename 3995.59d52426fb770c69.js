"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3995],{3995:(Ue,E,l)=>{l.r(E),l.d(E,{CrearReportePageModule:()=>Ce});var D=l(1368),F=l(5224),g=l(1528),B=l(508),v=l(6400),y=function(n){return n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS",n}(y||{}),C=function(n){return n.Rear="REAR",n.Front="FRONT",n}(C||{}),L=function(n){return n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl",n}(L||{});class A extends v.w8{getPhoto(t){var a=this;return(0,g.c)(function*(){return new Promise(function(){var e=(0,g.c)(function*(r,i){if(t.webUseInput||t.source===y.Photos)a.fileInputExperience(t,r,i);else if(t.source===y.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=t.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",function(){var c=(0,g.c)(function*(u){0===u.detail?a.fileInputExperience(t,r,i):a.cameraExperience(t,r,i)});return function(u){return c.apply(this,arguments)}}())}else a.cameraExperience(t,r,i)});return function(r,i){return e.apply(this,arguments)}}())})()}pickImages(t){var a=this;return(0,g.c)(function*(){return new Promise(function(){var e=(0,g.c)(function*(r,i){a.multipleFileInputExperience(r,i)});return function(r,i){return e.apply(this,arguments)}}())})()}cameraExperience(t,a,e){var r=this;return(0,g.c)(function*(){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===C.Front?"user":"environment",document.body.appendChild(i);try{yield i.componentOnReady(),i.addEventListener("onPhoto",function(){var s=(0,g.c)(function*(c){const u=c.detail;null===u?e(new v.Yr("User cancelled photos app")):u instanceof Error?e(u):a(yield r._getCameraPhoto(u,t)),i.dismiss(),document.body.removeChild(i)});return function(c){return s.apply(this,arguments)}}()),i.present()}catch{r.fileInputExperience(t,a,e)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),r.fileInputExperience(t,a,e)})()}fileInputExperience(t,a,e){let r=document.querySelector("#_capacitor-camera-input");const i=()=>{var s;null===(s=r.parentNode)||void 0===s||s.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",s=>{const c=r.files[0];let u="jpeg";if("image/png"===c.type?u="png":"image/gif"===c.type&&(u="gif"),"dataUrl"===t.resultType||"base64"===t.resultType){const d=new FileReader;d.addEventListener("load",()=>{if("dataUrl"===t.resultType)a({dataUrl:d.result,format:u});else if("base64"===t.resultType){const m=d.result.split(",")[1];a({base64String:m,format:u})}i()}),d.readAsDataURL(c)}else a({webPath:URL.createObjectURL(c),format:u}),i()}),r.addEventListener("cancel",s=>{e(new v.Yr("User cancelled photos app")),i()})),r.accept="image/*",r.capture=!0,t.source===y.Photos||t.source===y.Prompt?r.removeAttribute("capture"):t.direction===C.Front?r.capture="user":t.direction===C.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(t,a){let e=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var i;null===(i=e.parentNode)||void 0===i||i.removeChild(e)};e||(e=document.createElement("input"),e.id="_capacitor-camera-input-multiple",e.type="file",e.hidden=!0,e.multiple=!0,document.body.appendChild(e),e.addEventListener("change",i=>{const s=[];for(let c=0;c<e.files.length;c++){const u=e.files[c];let d="jpeg";"image/png"===u.type?d="png":"image/gif"===u.type&&(d="gif"),s.push({webPath:URL.createObjectURL(u),format:d})}t({photos:s}),r()}),e.addEventListener("cancel",i=>{a(new v.Yr("User cancelled photos app")),r()})),e.accept="image/*",e.click()}_getCameraPhoto(t,a){return new Promise((e,r)=>{const i=new FileReader,s=t.type.split("/")[1];"uri"===a.resultType?e({webPath:URL.createObjectURL(t),format:s,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const c=i.result;e("dataUrl"===a.resultType?{dataUrl:c,format:s,saved:!1}:{base64String:c.split(",")[1],format:s,saved:!1})},i.onerror=c=>{r(c)})})}checkPermissions(){var t=this;return(0,g.c)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw t.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw t.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var t=this;return(0,g.c)(function*(){throw t.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var t=this;return(0,g.c)(function*(){throw t.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var t=this;return(0,g.c)(function*(){throw t.unavailable("Not implemented on web.")})()}}new A;const k=(0,v.C_)("Camera",{web:()=>new A});var z=l(9616),o=l(4496),K=l(124),Q=l(8824),b=l(4580),R=l(6176),V=l(3252),G=l(2700),U=l(9900),W=l(112),J=l(5448),X=l(7773),q=l(4704),T=l(7368),P=l(6e3),ee=l(8368),p=l(3656),te=l(4920);class _{constructor(t,a,e){this._delegate=t,this.task=a,this.ref=e}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class x{constructor(t,a){this._delegate=t,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _(this._delegate.snapshot,this,this._ref)}then(t,a){return this._delegate.then(e=>{if(t)return t(new _(e,this,this._ref))},a)}on(t,a,e,r){let i;return a&&(i="function"==typeof a?s=>a(new _(s,this,this._ref)):{next:a.next?s=>a.next(new _(s,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(t,i,e||void 0,r||void 0)}}class O{constructor(t,a){this._delegate=t,this._service=a}get prefixes(){return this._delegate.prefixes.map(t=>new f(t,this._service))}get items(){return this._delegate.items.map(t=>new f(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class f{constructor(t,a){this._delegate=t,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const a=(0,p.gB)(this._delegate,t);return new f(a,this.storage)}get root(){return new f(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new f(t,this.storage)}put(t,a){return this._throwIfRoot("put"),new x((0,p.GY)(this._delegate,t,a),this)}putString(t,a=p.io.RAW,e){this._throwIfRoot("putString");const r=(0,p.Ci)(a,t),i=Object.assign({},e);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new x(new p.gq(this._delegate,new p.GI(r.data,!0),i),this)}listAll(){return(0,p.kN)(this._delegate).then(t=>new O(t,this.storage))}list(t){return(0,p.wV)(this._delegate,t||void 0).then(a=>new O(a,this.storage))}getMetadata(){return(0,p.GO)(this._delegate)}updateMetadata(t){return(0,p.CC)(this._delegate,t)}getDownloadURL(){return(0,p.Kq)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,p.UB)(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw(0,p.eQ)(t)}}class ${constructor(t,a){this.app=t,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Y(t))throw(0,p.Ko)("ref() expected a child path but got a URL, use refFromURL instead.");return new f((0,p.IL)(this._delegate,t),this)}refFromURL(t){if(!Y(t))throw(0,p.Ko)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{p.gF.makeFromUrl(t,this._delegate.host)}catch{throw(0,p.Ko)("refFromUrl() expected a valid full URL but got an invalid one.")}return new f((0,p.IL)(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,a,e={}){(0,p.zJ)(this._delegate,t,a,e)}}function Y(n){return/^[A-Za-z]+:\/\//.test(n)}function ne(n,{instanceIdentifier:t}){const a=n.getProvider("app-compat").getImmediate(),e=n.getProvider("storage").getImmediate({identifier:t});return new $(a,e)}function H(n){const t=function se(n){return new V._(t=>{const a=s=>t.next(s);a(n.snapshot);const i=n.on("state_changed",a);return n.then(s=>{a(s),t.complete()},s=>{a(n.snapshot),(s=>{t.error(s)})(s)}),function(){i()}}).pipe(function Z(n,t=W.M){return(0,J.i)((a,e)=>{let r=null,i=null,s=null;const c=()=>{if(r){r.unsubscribe(),r=null;const d=i;i=null,e.next(d)}};function u(){const d=s+n,m=t.now();if(m<d)return r=this.schedule(void 0,d-m),void e.add(r);c()}a.subscribe((0,X.e)(e,d=>{i=d,s=t.now(),r||(r=t.schedule(u,n),e.add(r))},()=>{c(),e.complete()},void 0,()=>{i=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,q.k)(a=>a.bytesTransferred/a.totalBytes*100))}}function w(n){return{getDownloadURL:()=>(0,G.of)(void 0).pipe(R.QT,(0,T.G)(()=>n.getDownloadURL()),R.wH),getMetadata:()=>(0,G.of)(void 0).pipe(R.QT,(0,T.G)(()=>n.getMetadata()),R.wH),delete:()=>(0,U.Q)(n.delete()),child:t=>w(n.child(t)),updateMetadata:t=>(0,U.Q)(n.updateMetadata(t)),put:(t,a)=>H(n.put(t,a)),putString:(t,a,e)=>H(n.putString(t,a,e)),list:t=>(0,U.Q)(n.list(t)),listAll:()=>(0,U.Q)(n.listAll())}}!function ae(n){const t={TaskState:p.e4,TaskEvent:p.G2,StringFormat:p.io,Storage:$,Reference:f};n.INTERNAL.registerComponent(new te.Yl("storage-compat",ne,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.5")}(ee.c),l(9252);const ce=new o.UbH("angularfire2.storageBucket"),le=new o.UbH("angularfire2.storage.maxUploadRetryTime"),ue=new o.UbH("angularfire2.storage.maxOperationRetryTime"),de=new o.UbH("angularfire2.storage.use-emulator");let pe=(()=>{var n;class t{constructor(e,r,i,s,c,u,d,m,N,Se){(0,b.c)(this,"storage",void 0);const S=(0,P._G)(e,c,r);this.storage=(0,P.PQ)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const I=c.runOutsideAngular(()=>S.storage(i||void 0)),j=N;return j&&I.useEmulator(...j),d&&I.setMaxUploadRetryTime(d),m&&I.setMaxOperationRetryTime(m),I},[d,m])}ref(e){return w(this.storage.ref(e))}refFromURL(e){return w(this.storage.refFromURL(e))}upload(e,r,i){return w(this.storage.ref(e)).put(r,i)}}return n=t,(0,b.c)(t,"\u0275fac",function(e){return new(e||n)(o.CoB(P.E9),o.CoB(P.Ml,8),o.CoB(ce,8),o.CoB(o.AHE),o.CoB(o.WW2),o.CoB(R.u),o.CoB(le,8),o.CoB(ue,8),o.CoB(de,8),o.CoB(R.gJ,8))}),(0,b.c)(t,"\u0275prov",o.wxM({token:n,factory:n.\u0275fac,providedIn:"any"})),t})(),ge=(()=>{var n;class t{constructor(e){this.angStorage=e}cargarFotoFireStorage(e,r,i){return new Promise(s=>{const u=this.angStorage.ref(r+"/"+i);u.put(e).snapshotChanges().pipe((0,Q.U)(()=>{u.getDownloadURL().subscribe(m=>{s(m)})})).subscribe()})}eliminarFotoFireStorage(e){return new Promise((r,i)=>{this.angStorage.storage.refFromURL(e).delete().then(()=>{r()}).catch(c=>{i(c)})})}}return(n=t).\u0275fac=function(e){return new(e||n)(o.CoB(pe))},n.\u0275prov=o.wxM({token:n,factory:n.\u0275fac,providedIn:"root"}),t})();var he=l(9368),me=l(2340),h=l(2112),M=l(4716);function fe(n,t){if(1&n){const a=o.KQA();o.I0R(0,"ion-item",16)(1,"div",17),o.wR5(2,"img",18),o.I0R(3,"ion-icon",19),o.qCj("click",function(){const i=o.usT(a).$implicit,s=o.GaO();return o.CGJ(s.eliminarFoto(i))}),o.C$Y()()()}if(2&n){const a=t.$implicit;o.yG2(2),o._6D("src",a,o.K6U)}}function Re(n,t){if(1&n){const a=o.KQA();o.I0R(0,"ion-item",16)(1,"div",17),o.wR5(2,"img",18),o.I0R(3,"ion-icon",19),o.qCj("click",function(){const i=o.usT(a).$implicit,s=o.GaO();return o.CGJ(s.eliminarFoto(i.urlFoto))}),o.C$Y()()()}if(2&n){const a=t.$implicit;o.yG2(2),o._6D("src",a.urlFoto,o.K6U)}}function ve(n,t){1&n&&(o.I0R(0,"div",20),o.wR5(1,"ion-spinner",21),o.C$Y())}const ye=[{path:"",component:(()=>{var n;class t{constructor(e,r,i,s,c,u){this.serviciosFireStore=e,this.servicioFireStorage=r,this.serviciosInteraccion=i,this.router=s,this.serviciosAuth=c,this.route=u,this.reportes=[],this.fotosEditar=[],this.fechaHoy=new Date,this.cargando=!1,this.enlacesFotos=[],this.idsFotosSeleccionadas=[],this.contadorFotosNombre=0,this.idOperadorElegidoMenorAsignciones="",this.idPresenteDeReporte=u.snapshot.params.idReporte,this.inicializarUsuarioVacio(),this.inicializarFotoVacio(),this.serviciosAuth.estadoLogUsuario().subscribe(d=>{d?(this.usuarioLog.idUsuario=d.uid,this.idPresenteDeUsuario=d.uid,this.nuevoReporte.idUsuario=d.uid,this.getUsuarioPorID()):console.log("NO LOG")}),this.serviciosFireStore.contarNumeroDocumentosTotal("Reportes").then(d=>{this.numeroActualReportes=d,this.asignableNuevo=this.numeroActualReportes+1,this.nuevoReporte.numeroReporte=this.asignableNuevo}),this.inicializarReporteEnVacio(),this.cargando=!1,this.editar_o_Crear()}ngOnInit(){}inicializarUsuarioVacio(){this.usuarioLog={idUsuario:"",identificacionUsuario:"",numeroReferenciaUsuarioConsumidor:0,nombreUsuario:"",correoUsuario:"",celularUsuario:"",direccionUsuario:"",telefonoUsuario:"",clave:"",idRol:"",disponibleOperario:!0,esActivo:!0,asignacionesActivas:0,fechaRegistro:""}}inicializarFotoVacio(){this.nuevaFotoI={idFoto:"",idReporte:"",idUsuario:"",fechaFoto:"",nombreFoto:"",urlFoto:""}}inicializarReporteEnVacio(){this.nuevoReporte={idReporte:"",numeroReporte:0,descripcion:"",ubicacion:"",fechaRegistroReporte:"",fechaAtencionReporte:"",fechaFinReporte:"",idUsuario:"",idOperador:"",idEmpresa:"",idFoto:"",estado:""}}inicializarNuevoReporteDatosBasicos(){this.getOperarioAsignar();let e=`${this.fechaHoy.getDate()}/${this.fechaHoy.getMonth()+1}/${this.fechaHoy.getFullYear()} ${this.fechaHoy.getHours()}:${this.fechaHoy.getMinutes()}`;this.nuevoReporte={idReporte:this.serviciosFireStore.crearIDUnico(),numeroReporte:this.asignableNuevo,descripcion:"",ubicacion:"Sin ubicacion",fechaRegistroReporte:e,fechaAtencionReporte:"",fechaFinReporte:"",idUsuario:"",idOperador:"",idEmpresa:"",idFoto:"",estado:B.SA}}guardarRegistro(){var e=this;return(0,g.c)(function*(){try{e.cargando=!0,e.serviciosInteraccion.cargandoConMensaje("Guardando Reportes"),e.getOperarioAsignar(),e.nuevoReporte.idOperador=e.idOperadorElegidoMenorAsignciones,yield e.serviciosFireStore.crearDocumentoGeneralPorID(e.nuevoReporte,"Reportes",e.nuevoReporte.idReporte),e.cargando=!1,e.serviciosInteraccion.mensajeGeneral("Reporte enviado"),e.serviciosInteraccion.cerrarCargando(),yield e.router.navigate(["/reportes",e.idPresenteDeUsuario])}catch(r){console.log("Error al crear el reporte",r)}})()}editar_o_Crear(){var e=this;return(0,g.c)(function*(){if(null!=e.idPresenteDeReporte||null!=e.idPresenteDeReporte){const i=(yield e.serviciosFireStore.getDocumentSolo("Reportes",e.idPresenteDeReporte)).data();e.nuevoReporte={idReporte:i.idReporte||"",numeroReporte:i.numeroReporte||0,descripcion:i.descripcion||"",ubicacion:i.ubicacion||"",fechaRegistroReporte:i.fechaRegistroReporte||"",fechaAtencionReporte:i.fechaAtencionReporte||"",fechaFinReporte:i.fechaFinReporte||"",idUsuario:i.idUsuario||"",idOperador:i.idOperador||0,idEmpresa:i.idEmpresa||0,idFoto:i.idFoto||0,estado:i.estado||""},e.getFotosPorIdReporte()}else e.inicializarNuevoReporteDatosBasicos(),e.inicializarDatosFoto()})()}subirFotoCrearReporte(e){var r=this;return(0,g.c)(function*(){const i=r.usuarioLog.correoUsuario,s="fotoReporte"+r.nuevoReporte.numeroReporte+r.contadorFotosNombre.toString(),c=e.target.files[0];r.serviciosInteraccion.cargandoConMensaje("Cargando foto.");const u=yield r.servicioFireStorage.cargarFotoFireStorage(c,i,s);r.nuevaFotoI.urlFoto=u,r.enlacesFotos.push(u),r.idsFotosSeleccionadas.push(r.nuevaFotoI.idFoto),r.nuevaFotoI.idFoto=r.serviciosFireStore.crearIDUnico(),yield r.serviciosFireStore.crearDocumentoGeneralPorID(r.nuevaFotoI,"Fotos",r.nuevaFotoI.idFoto),r.contadorFotosNombre++,r.serviciosInteraccion.mensajeGeneral("Listo"),r.serviciosInteraccion.cerrarCargando(),console.log("arreglo enlaces",r.enlacesFotos)})()}eliminarFoto(e,r){this.servicioFireStorage.eliminarFotoFireStorage(e).then(()=>{console.log("Foto eliminada con \xe9xito")}).catch(s=>{console.error("Error al eliminar la foto",s)}),e==this.nuevaFotoI.urlFoto&&(this.serviciosFireStore.eliminarDocPorID("Fotos",this.nuevaFotoI.idFoto),console.log(this.nuevaFotoI.idFoto));const i=this.enlacesFotos.indexOf(e);-1!==i&&this.enlacesFotos.splice(i,1),this.serviciosInteraccion.mensajeGeneral("Eliminada."),this.serviciosInteraccion.cerrarCargando()}inicializarDatosFoto(){let e=`${this.fechaHoy.getDate()}/${this.fechaHoy.getMonth()+1}/${this.fechaHoy.getFullYear()} ${this.fechaHoy.getHours()}:${this.fechaHoy.getMinutes()}`;this.nuevaFotoI={idFoto:this.serviciosFireStore.crearIDUnico(),idReporte:this.nuevoReporte.idReporte,idUsuario:this.usuarioLog.idUsuario,fechaFoto:e,nombreFoto:"",urlFoto:""}}tomarubicacion(){var e=this;return(0,g.c)(function*(){e.serviciosInteraccion.cargandoConMensaje("Tomando coordenadas");const i=yield z.G.getCurrentPosition({enableHighAccuracy:!0,maximumAge:5e3});e.serviciosInteraccion.mensajeGeneral("Hecho!"),e.serviciosInteraccion.cerrarCargando(),console.log(i.coords.latitude,i.coords.longitude),e.nuevoReporte.ubicacion=i.coords.latitude.toString()+" "+i.coords.longitude.toString()})()}tomarFoto(){return(0,g.c)(function*(){let r=(yield k.getPhoto({quality:90,allowEditing:!0,resultType:L.Uri})).webPath;console.log("fotoUrl",r),console.log("foto",r)})()}getUsuarioPorID(){var e=this;return(0,g.c)(function*(){e.serviciosInteraccion.cargandoConMensaje("Cargando");const i=(yield e.serviciosFireStore.getDocumentSolo("Usuarios",e.usuarioLog.idUsuario)).data();e.usuarioLog={idUsuario:i.idUsuario||"",identificacionUsuario:i.cedulausuario||"",numeroReferenciaUsuarioConsumidor:i.numeroReferenciaUsuario||0,nombreUsuario:i.nombreUsuario||"",correoUsuario:i.correoUsuario||"",celularUsuario:i.celularUsuario||"",direccionUsuario:i.direccionUsuario||"",telefonoUsuario:i.telefonoUsuario||"",clave:i.clave||"",idRol:i.idRol||"",disponibleOperario:i.esActivo||!0,esActivo:i.esActivo||!0,asignacionesActivas:i.esActivo||0,fechaRegistro:i.fechaRegistro||""},e.serviciosInteraccion.cerrarCargando()})()}getOperarioAsignar(){var e=this;return(0,g.c)(function*(){try{const r=yield e.serviciosFireStore.getUsuariosOperariosParaAsignaciones();let i=r[0];return r.forEach(s=>{s.asignacionesActivas<i.asignacionesActivas&&(i=s)}),e.idOperadorElegidoMenorAsignciones=i.idUsuario,i}catch(r){return console.log("Error al buscar con menor asignaciones: ",r),r}})()}getFotosPorIdReporte(){try{this.serviciosFireStore.getFotosSegunReporteObservable(this.idPresenteDeReporte).subscribe({next:e=>{console.log("idPresente: ",this.idPresenteDeReporte),this.fotosEditar=e,console.log(this.fotosEditar)}})}catch(e){console.log("Error foto editar: ",e)}}}return(n=t).\u0275fac=function(e){return new(e||n)(o.GI1(K.$),o.GI1(ge),o.GI1(he.T),o.GI1(F.E5),o.GI1(me.G),o.GI1(F.gV))},n.\u0275cmp=o.In1({type:n,selectors:[["app-crear-reporte"]],decls:38,vars:9,consts:[[3,"translucent"],["slot","start"],[3,"defaultHref"],["position","floating"],["type","text","name","numeroReporte","aria-label","number","disabled","true","re","",3,"ngModel","ngModelChange"],["type","text","name","descripcion","aria-label","text",3,"ngModel","ngModelChange"],[3,"click"],["name","location-outline","color","danger",3,"click"],["slot","end"],["for","carga-archivo"],["slot","icon-only","name","image-outline"],["type","file","accept","image/*","id","carga-archivo",2,"display","none",3,"change"],["class","imagen",4,"ngFor","ngForOf"],["type","submit","color","success",2,"margin-left","10px","margin-top","10px","font-size","9px",3,"click"],["style","text-align:center;"],[2,"margin-left","10px","color","orange"],[1,"imagen"],[2,"display","flex","flex-direction","column","align-items","center"],["alt","",2,"margin","10px","border-radius","10px","height","100px","width","200px",3,"src"],["name","close-circle-outline","color","danger",2,"margin-top","5px","margin-bottom","10px",3,"click"],[2,"text-align","center"],["name","bubbles"]],template:function(e,r){1&e&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.wR5(3,"ion-back-button",2),o.C$Y(),o.I0R(4,"ion-title"),o.OEk(5," Crear reporte "),o.C$Y()()(),o.I0R(6,"ion-content")(7,"ion-card")(8,"ion-item")(9,"ion-label",3),o.OEk(10,"N\xfamero de Reporte:"),o.C$Y(),o.I0R(11,"ion-input",4),o.iHE("ngModelChange",function(s){return o.kNx(r.nuevoReporte.numeroReporte,s)||(r.nuevoReporte.numeroReporte=s),s}),o.C$Y()(),o.I0R(12,"ion-item")(13,"ion-label",3),o.OEk(14,"Descripci\xf3n *"),o.C$Y(),o.I0R(15,"ion-textarea",5),o.iHE("ngModelChange",function(s){return o.kNx(r.nuevoReporte.descripcion,s)||(r.nuevoReporte.descripcion=s),s}),o.C$Y()(),o.I0R(16,"ion-item")(17,"ion-label",6),o.qCj("click",function(){return r.tomarubicacion()}),o.OEk(18," Posicion actual: "),o.I0R(19,"p"),o.OEk(20),o.C$Y()(),o.I0R(21,"ion-icon",7),o.qCj("click",function(){return r.tomarubicacion()}),o.C$Y()(),o.I0R(22,"ion-item")(23,"ion-label"),o.OEk(24,"Fotos de galeria:"),o.C$Y(),o.I0R(25,"ion-buttons",8)(26,"label",9),o.wR5(27,"ion-icon",10),o.C$Y(),o.I0R(28,"input",11),o.qCj("change",function(s){return r.subirFotoCrearReporte(s)}),o.C$Y()()(),o.yuY(29,fe,4,1,"ion-item",12)(30,Re,4,1,"ion-item",12),o.I0R(31,"ion-button",13),o.qCj("click",function(){return r.guardarRegistro()}),o.OEk(32,"Enviar"),o.C$Y(),o.yuY(33,ve,2,0,"div",14),o.I0R(34,"p",15)(35,"strong"),o.OEk(36,"Reportes realizados:"),o.C$Y(),o.OEk(37),o.C$Y()()()),2&e&&(o.E7m("translucent",!0),o.yG2(3),o.E7m("defaultHref","/reportes/"+r.idPresenteDeUsuario),o.yG2(8),o.OKB("ngModel",r.nuevoReporte.numeroReporte),o.yG2(4),o.OKB("ngModel",r.nuevoReporte.descripcion),o.yG2(5),o.cNF(r.nuevoReporte.ubicacion),o.yG2(9),o.E7m("ngForOf",r.enlacesFotos),o.yG2(),o.E7m("ngForOf",r.fotosEditar),o.yG2(3),o.C0Y(33,r.cargando?33:-1),o.yG2(4),o.oRS(" ",r.numeroActualReportes,""))},dependencies:[D.ay,h.sn,h.GS,h.KC,h._i,h.wB,h.Ko,h.A5,h.Yb,h.QR,h.YA,h.gP,h.tM,h.Md,h.qG,h.Im,M.ue,M._G],styles:["img[_ngcontent-%COMP%]{height:10;width:20}ion-item.imagen[_ngcontent-%COMP%]{height:10;width:20}"]}),t})()}];let Fe=(()=>{var n;class t{}return(n=t).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.a4G({type:n}),n.\u0275inj=o.s3X({imports:[F.qQ.forChild(ye),F.qQ]}),t})(),Ce=(()=>{var n;class t{}return(n=t).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.a4G({type:n}),n.\u0275inj=o.s3X({providers:[Geolocation],imports:[D.MD,Fe,h.wZ,M.y]}),t})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[36],{36:(O,m,a)=>{a.r(m),a.d(m,{LoginPageModule:()=>Y});var p=a(1368),g=a(4716),r=a(2112),u=a(5224),d=a(1528),o=a(4496),L=a(2340),C=a(124),v=a(2780),I=a(9368);function h(n,t){1&n&&(o.I0R(0,"p"),o.OEk(1,"Correo es requerido."),o.C$Y())}function y(n,t){1&n&&(o.I0R(0,"p"),o.OEk(1,"Correo no es v\xe1lido."),o.C$Y())}function G(n,t){if(1&n&&(o.I0R(0,"ion-text",13),o.yuY(1,h,2,0,"p",14)(2,y,2,0,"p",14),o.C$Y()),2&n){const c=o.GaO();o.yG2(),o.E7m("ngIf",c.formLogin.get("correoUsuarioLogin").errors.required),o.yG2(),o.E7m("ngIf",c.formLogin.get("correoUsuarioLogin").errors.email)}}function E(n,t){1&n&&(o.I0R(0,"p"),o.OEk(1,"Clave es requerida."),o.C$Y())}function M(n,t){if(1&n&&(o.I0R(0,"ion-text",13),o.yuY(1,E,2,0,"p",14),o.C$Y()),2&n){const c=o.GaO();o.yG2(),o.E7m("ngIf",c.formLogin.get("paseUsuarioLogin").errors.required)}}const U=[{path:"",component:(()=>{var n;class t{constructor(i,e,l,s,f,x){this.formBuilderLogin=i,this.llamaServiciosAut=e,this.servicioFireStore=l,this.servicioLocalStorage=s,this.serviciosInteraccion=f,this.router=x,this.correoUsuarioLogin="",this.paseUsuarioLogin="",this.alertarError=!1,this.inicializarCamposLogin()}ngOnInit(){}inicializarCamposLogin(){this.formLogin=this.formBuilderLogin.group({correoUsuarioLogin:["",[g.AQ.required,g.AQ.email]],paseUsuarioLogin:["",g.AQ.required]})}iniciarSesion(){var i=this;return(0,d.c)(function*(){var l;i.serviciosInteraccion.cargandoConMensaje("Ingresando"),i.formLogin.valid&&(yield i.llamaServiciosAut.iniciarSesionAuthServices(i.correoUsuarioLogin,i.paseUsuarioLogin).catch(l=>{console.log("Error autenticacion: ",l),i.serviciosInteraccion.mensajeGeneral("Inicio incorrecto. Correo o constrase\xf1a invalido"),i.serviciosInteraccion.cerrarCargando(),i.formLogin.reset()}))&&i.servicioFireStore.getUsuarioPorCorreoEnLogin(i.correoUsuarioLogin).subscribe({next:(l=(0,d.c)(function*(s){yield i.servicioLocalStorage.guardarDatosEnLocalStorage(s),i.serviciosInteraccion.mensajeGeneral("Inicio correcto"),i.serviciosInteraccion.cerrarCargando(),i.inicializarCamposLogin(),i.servicioLocalStorage.cargarLocalStorage(),i.goToMenu()}),function(f){return l.apply(this,arguments)})})})()}goToMenu(){this.router.navigate(["/menu"])}}return(n=t).\u0275fac=function(i){return new(i||n)(o.GI1(g.im),o.GI1(L.G),o.GI1(C.$),o.GI1(v.s),o.GI1(I.T),o.GI1(u.E5))},n.\u0275cmp=o.In1({type:n,selectors:[["app-login"]],decls:28,vars:6,consts:[[1,"card-container"],["size-md","3","size","12",1,"ion-padding","ion-blue-bkg","image-container"],["src","../../../assets/icon/report.png","alt","Report icon","loading","lazy",1,"centered-image"],["size-md","9","size","12",1,"welcome"],[2,"text-align","center"],["action","",3,"formGroup"],["position","floating"],["formControlName","correoUsuarioLogin","type","email","aria-label","correoUsuarioLogin",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],["type","password","formControlName","paseUsuarioLogin",3,"ngModel","ngModelChange"],["type","submit","color","primary",2,"margin-left","10px","font-size","9px",3,"disabled","click"],[2,"margin-top","15px","margin-bottom","15px"],["href","formulario-registro",2,"color","blue","margin-top","15px"],["color","danger"],[4,"ngIf"]],template:function(i,e){1&i&&(o.I0R(0,"ion-content")(1,"div",0)(2,"ion-card")(3,"ion-row")(4,"ion-col",1),o.wR5(5,"img",2),o.C$Y(),o.I0R(6,"ion-col",3)(7,"ion-card-header")(8,"ion-card-title",4),o.OEk(9,"Acua Reporte"),o.C$Y(),o.I0R(10,"ion-card-content",4),o.OEk(11,"Bienvenido a su gestor de reportes de confianza."),o.C$Y()(),o.I0R(12,"form",5)(13,"ion-item")(14,"ion-label",6),o.OEk(15,"Correo:"),o.C$Y(),o.I0R(16,"ion-input",7),o.iHE("ngModelChange",function(s){return o.kNx(e.correoUsuarioLogin,s)||(e.correoUsuarioLogin=s),s}),o.C$Y()(),o.yuY(17,G,3,2,"ion-text",8),o.I0R(18,"ion-item")(19,"ion-label",6),o.OEk(20,"Clave:"),o.C$Y(),o.I0R(21,"ion-input",9),o.iHE("ngModelChange",function(s){return o.kNx(e.paseUsuarioLogin,s)||(e.paseUsuarioLogin=s),s}),o.C$Y()(),o.yuY(22,M,2,1,"ion-text",8),o.I0R(23,"ion-button",10),o.qCj("click",function(){return e.iniciarSesion()}),o.OEk(24,"Entrar"),o.C$Y()(),o.wR5(25,"hr",11),o.I0R(26,"a",12),o.OEk(27,"No tiene una cuenta?"),o.C$Y()()()()()()),2&i&&(o.yG2(12),o.E7m("formGroup",e.formLogin),o.yG2(4),o.OKB("ngModel",e.correoUsuarioLogin),o.yG2(),o.E7m("ngIf",e.formLogin.get("correoUsuarioLogin").invalid&&e.formLogin.get("correoUsuarioLogin").touched),o.yG2(4),o.OKB("ngModel",e.paseUsuarioLogin),o.yG2(),o.E7m("ngIf",e.formLogin.get("paseUsuarioLogin").invalid&&e.formLogin.get("paseUsuarioLogin").touched),o.yG2(),o.E7m("disabled",e.formLogin.invalid))},dependencies:[p.u_,g.sz,g.ue,g.u,g.uW,g.Wo,r.sn,r.KC,r.Gg,r.YY,r.I7,r.Kk,r._i,r.A5,r.Yb,r.QR,r.qo,r.Wg,r.qG],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{height:200px;width:200px}"]}),t})()}];let R=(()=>{var n;class t{}return(n=t).\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.a4G({type:n}),n.\u0275inj=o.s3X({imports:[u.qQ.forChild(U),u.qQ]}),t})(),Y=(()=>{var n;class t{}return(n=t).\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.a4G({type:n}),n.\u0275inj=o.s3X({imports:[p.MD,g.y,g.sl,r.wZ,R]}),t})()}}]);
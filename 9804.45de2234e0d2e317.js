"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9804],{9804:(H,d,p)=>{p.r(d),p.d(d,{FormularioOperadorModule:()=>T});var m=p(1368),c=p(5224),f=p(1528),s=p(4716),O=p(508),o=p(4496),U=p(2340),C=p(124),h=p(9368),l=p(2112);function v(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Nombre Completo es requerido."),o.C$Y())}function _(r,n){if(1&r&&(o.I0R(0,"ion-text",15),o.yuY(1,v,2,0,"p",16),o.C$Y()),2&r){const t=o.GaO();o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("nombreUsuario").errors.required)}}function G(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Correo es requerido."),o.C$Y())}function y(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Correo no es v\xe1lido."),o.C$Y())}function I(r,n){if(1&r&&(o.I0R(0,"ion-text",15),o.yuY(1,G,2,0,"p",16)(2,y,2,0,"p",16),o.C$Y()),2&r){const t=o.GaO();o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("correoUsuario").errors.required),o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("correoUsuario").errors.email)}}function R(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Cedula es requerida."),o.C$Y())}function F(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Por favor, ingrese solo n\xfameros."),o.C$Y())}function E(r,n){if(1&r&&(o.I0R(0,"ion-text",15),o.yuY(1,R,2,0,"p",16)(2,F,2,0,"p",16),o.C$Y()),2&r){const t=o.GaO();o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("identificacionUsuario").errors.required),o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("identificacionUsuario").errors.pattern)}}function Y(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Celular es requerido."),o.C$Y())}function M(r,n){1&r&&(o.I0R(0,"p"),o.OEk(1,"Por favor, ingrese solo n\xfameros."),o.C$Y())}function b(r,n){if(1&r&&(o.I0R(0,"ion-text",15),o.yuY(1,Y,2,0,"p",16)(2,M,2,0,"p",16),o.C$Y()),2&r){const t=o.GaO();o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("celularUsuario").errors.required),o.yG2(),o.E7m("ngIf",t.formGroupOperador.get("celularUsuario").errors.pattern)}}function A(r,n){1&r&&(o.I0R(0,"div",17),o.wR5(1,"ion-spinner",18),o.C$Y())}const x=[{path:"",component:(()=>{var r;class n{constructor(e,i,a,u,k,g){this.formBuilderOperador=e,this.serviciosAuthentication=i,this.servicioFireStore=a,this.serviciosInteraccion=u,this.router=k,this.routerActivate=g,this.fechaHoy=new Date,this.cargando=!1,this.idPresenteOperario=g.snapshot.params.idUsuario,this.inicializarOperadorVacioValidaciones(),this.iniciaizarOperadorBase(),this.editar_o_crear()}ngOnInit(){}inicializarOperadorVacioValidaciones(){this.nuevoUsuarioOperario={idUsuario:"",identificacionUsuario:"",numeroReferenciaUsuarioConsumidor:0,nombreUsuario:"",correoUsuario:"",celularUsuario:"",direccionUsuario:"",telefonoUsuario:"",clave:"",idRol:O._D,disponibleOperario:!0,esActivo:!0,asignacionesActivas:0,fechaRegistro:""},this.formGroupOperador=this.formBuilderOperador.group({nombreUsuario:["",s.AQ.required],correoUsuario:["",[s.AQ.required,s.AQ.email]],celularUsuario:["",s.AQ.pattern("[0-9]*")],identificacionUsuario:["",s.AQ.pattern("[0-9]*")]})}iniciaizarOperadorBase(){let e=`${this.fechaHoy.getDate()}/${this.fechaHoy.getMonth()+1}/${this.fechaHoy.getFullYear()} ${this.fechaHoy.getHours()}:${this.fechaHoy.getMinutes()}`;this.nuevoUsuarioOperario={idUsuario:"",identificacionUsuario:"",numeroReferenciaUsuarioConsumidor:0,nombreUsuario:"",correoUsuario:"",celularUsuario:"",direccionUsuario:"",telefonoUsuario:"",clave:"",idRol:O._D,disponibleOperario:!0,asignacionesActivas:0,esActivo:!0,fechaRegistro:e}}guardarOperador(){var e=this;return(0,f.c)(function*(){try{e.cargando=!0,e.nuevoUsuarioOperario.clave=e.nuevoUsuarioOperario.celularUsuario;const i=yield e.serviciosAuthentication.registrarUsuarioRegistroAuthServices(e.nuevoUsuarioOperario.correoUsuario,e.nuevoUsuarioOperario.clave);i&&(e.nuevoUsuarioOperario.idUsuario=i.user.uid,yield e.servicioFireStore.crearDocumentoGeneralPorID(e.nuevoUsuarioOperario,"Usuarios",i.user.uid.toString()),e.inicializarOperadorVacioValidaciones(),e.formGroupOperador.reset()),e.router.navigate(["/operarios"]),e.cargando=!1}catch(i){console.log("No guard\xf3: "+i)}})()}editar_o_crear(){var e=this;return(0,f.c)(function*(){if(null!=e.idPresenteOperario||null!=e.idPresenteOperario||""==e.idPresenteOperario){e.cargando=!0;const a=(yield e.servicioFireStore.getDocumentSolo("Usuarios",e.idPresenteOperario)).data();console.log("EDITAR"),e.nuevoUsuarioOperario={idUsuario:a.idUsuario||"",identificacionUsuario:a.cedulausuario||"",numeroReferenciaUsuarioConsumidor:a.numeroReferenciaUsuario||0,nombreUsuario:a.nombreUsuario||"",correoUsuario:a.correoUsuario||"",celularUsuario:a.celularUsuario||"",direccionUsuario:a.direccionUsuario||"",telefonoUsuario:a.telefonoUsuario||"",clave:a.clave||"",idRol:a.idRol||"",disponibleOperario:a.esActivo||!0,esActivo:a.esActivo||!0,asignacionesActivas:a.esActivo||!0,fechaRegistro:a.fechaRegistro||""},e.cargando=!1}else console.log("CREAR: ",e.idPresenteOperario),e.iniciaizarOperadorBase()})()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.GI1(s.im),o.GI1(U.G),o.GI1(C.$),o.GI1(h.T),o.GI1(c.E5),o.GI1(c.gV))},r.\u0275cmp=o.In1({type:r,selectors:[["app-formulario-operador"]],decls:39,vars:12,consts:[[3,"translucent"],["slot","start"],["defaultHref","/operarios"],[2,"margin","15px","font-weight","bold"],["color","blue"],["action","",2,"margin","5px",3,"formGroup"],["position","floating"],["formControlName","nombreUsuario","type","text","aria-label","nombreUsuario",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],["formControlName","correoUsuario","type","email","aria-label","correoUsuario",3,"ngModel","ngModelChange"],["formControlName","identificacionUsuario","type","tel","aria-label","identificacionUsuario",3,"ngModel","ngModelChange"],["formControlName","celularUsuario","type","tel","aria-label","celularUsuario",3,"ngModel","ngModelChange"],["type","submit","color","success",2,"margin-left","10px","margin-top","10px","font-size","9px",3,"disabled","click"],["style","text-align:center;"],[2,"margin-left","15px"],["color","danger"],[4,"ngIf"],[2,"text-align","center"],["name","bubbles"]],template:function(e,i){1&e&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.wR5(3,"ion-back-button",2),o.C$Y(),o.I0R(4,"ion-title"),o.OEk(5," Registro Operador "),o.C$Y()()(),o.I0R(6,"ion-content")(7,"ion-card")(8,"p",3),o.OEk(9,"Formulario para los Operarios - Contratistas que hagan parte de la empresa prestadora de servicios publico de agua y alcantarillado comunitario"),o.C$Y(),o.wR5(10,"hr",4),o.I0R(11,"form",5)(12,"ion-item")(13,"ion-label",6),o.OEk(14,"Nombre Completo:"),o.C$Y(),o.I0R(15,"ion-input",7),o.iHE("ngModelChange",function(u){return o.kNx(i.nuevoUsuarioOperario.nombreUsuario,u)||(i.nuevoUsuarioOperario.nombreUsuario=u),u}),o.C$Y()(),o.yuY(16,_,2,1,"ion-text",8),o.I0R(17,"ion-item")(18,"ion-label",6),o.OEk(19,"Correo:"),o.C$Y(),o.I0R(20,"ion-input",9),o.iHE("ngModelChange",function(u){return o.kNx(i.nuevoUsuarioOperario.correoUsuario,u)||(i.nuevoUsuarioOperario.correoUsuario=u),u}),o.C$Y()(),o.yuY(21,I,3,2,"ion-text",8),o.I0R(22,"ion-item")(23,"ion-label",6),o.OEk(24,"Cedula:"),o.C$Y(),o.I0R(25,"ion-input",10),o.iHE("ngModelChange",function(u){return o.kNx(i.nuevoUsuarioOperario.identificacionUsuario,u)||(i.nuevoUsuarioOperario.identificacionUsuario=u),u}),o.C$Y()(),o.yuY(26,E,3,2,"ion-text",8),o.I0R(27,"ion-item")(28,"ion-label",6),o.OEk(29,"Celular:"),o.C$Y(),o.I0R(30,"ion-input",11),o.iHE("ngModelChange",function(u){return o.kNx(i.nuevoUsuarioOperario.celularUsuario,u)||(i.nuevoUsuarioOperario.celularUsuario=u),u}),o.C$Y()(),o.yuY(31,b,3,2,"ion-text",8),o.I0R(32,"ion-button",12),o.qCj("click",function(){return i.guardarOperador()}),o.OEk(33,"Enviar"),o.C$Y(),o.yuY(34,A,2,0,"div",13),o.I0R(35,"p",14)(36,"strong"),o.OEk(37,"Nota: "),o.C$Y(),o.OEk(38,"Atencion al usuario, exclusivamente para registrar el Operario."),o.C$Y()()()()),2&e&&(o.E7m("translucent",!0),o.yG2(11),o.E7m("formGroup",i.formGroupOperador),o.yG2(4),o.OKB("ngModel",i.nuevoUsuarioOperario.nombreUsuario),o.yG2(),o.E7m("ngIf",i.formGroupOperador.get("nombreUsuario").invalid&&i.formGroupOperador.get("nombreUsuario").touched),o.yG2(4),o.OKB("ngModel",i.nuevoUsuarioOperario.correoUsuario),o.yG2(),o.E7m("ngIf",i.formGroupOperador.get("correoUsuario").invalid&&i.formGroupOperador.get("correoUsuario").touched),o.yG2(4),o.OKB("ngModel",i.nuevoUsuarioOperario.identificacionUsuario),o.yG2(),o.E7m("ngIf",i.formGroupOperador.get("identificacionUsuario").invalid&&i.formGroupOperador.get("identificacionUsuario").touched),o.yG2(4),o.OKB("ngModel",i.nuevoUsuarioOperario.celularUsuario),o.yG2(),o.E7m("ngIf",i.formGroupOperador.get("celularUsuario").invalid&&i.formGroupOperador.get("celularUsuario").touched),o.yG2(),o.E7m("disabled",i.formGroupOperador.invalid),o.yG2(2),o.C0Y(34,i.cargando?34:-1))},dependencies:[m.u_,s.sz,s.ue,s.u,l.sn,l.GS,l.KC,l._i,l.wB,l.A5,l.Yb,l.QR,l.YA,l.Wg,l.tM,l.Md,l.qG,l.Im,s.uW,s.Wo]}),n})()}];let $=(()=>{var r;class n{}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.a4G({type:r}),r.\u0275inj=o.s3X({imports:[c.qQ.forChild(x),c.qQ]}),n})(),T=(()=>{var r;class n{}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.a4G({type:r}),r.\u0275inj=o.s3X({imports:[m.MD,$,s.y,l.wZ,s.sl]}),n})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9708],{9708:(_,c,n)=>{n.r(c),n.d(c,{MenuPageModule:()=>I});var m=n(1368),l=n(5224),g=n(1528),i=n(4496),p=n(2340),v=n(9368),f=n(124),h=n(2780),t=n(2112);function C(o,u){if(1&o){const a=i.KQA();i.I0R(0,"ion-item")(1,"ion-label",2),i.qCj("click",function(){i.usT(a);const s=i.GaO();return i.CGJ(s.irAsignacionesDelOperador())}),i.OEk(2," Reportes Asignados "),i.C$Y()()}}function M(o,u){if(1&o){const a=i.KQA();i.I0R(0,"ion-item")(1,"ion-label",2),i.qCj("click",function(){i.usT(a);const s=i.GaO();return i.CGJ(s.irTodosLosUsuarios())}),i.OEk(2," Usuarios "),i.C$Y()()}}function U(o,u){if(1&o){const a=i.KQA();i.I0R(0,"ion-item")(1,"ion-label",2),i.qCj("click",function(){i.usT(a);const s=i.GaO();return i.CGJ(s.irTodosLosOperarios())}),i.OEk(2," Operarios "),i.C$Y()()}}const b=[{path:"",component:(()=>{var o;class u{constructor(e,s,r,S,G,L){this.router=e,this.serviciosUsAth=s,this.serviciosInteracion=r,this.serviciosAuth=S,this.serviciosFirestore=G,this.servicioLocalStorage=L,this.visibleReportes=!0,this.visibleOperarios=!0,this.visibleUsuarios=!0,this.visibleAsignaciones=!0,this.idQuienInicia="",this.idLogOperario="",this.opcionesMenu=[{idMen:1,nombre:"Reportes",url:"/reportes",permiso:!0},{idMen:2,nombre:"Usuarios",url:"/usuarios",permiso:!0},{idMen:3,nombre:"Operarios",url:"/operarios",permiso:!0},{idMen:4,nombre:"Perfil",url:"/usuario",permiso:!0}],this.inicializarUSVacioMen(),this.serviciosAuth.estadoLogUsuario().subscribe(d=>{d?(this.idQuienInicia=d.uid,console.log("SI LOG: ",this.idQuienInicia),this.traerUS()):(console.log("NO LOG"),this.cerrarSesion())})}ngOnInit(){}redirectMenu(e,s){this.router.navigate([e,s]),console.log(s)}cerrarSesion(){this.serviciosUsAth.servicioCerrarSesion(),this.servicioLocalStorage.eliminarDatoEnLocalStorage(),this.servicioLocalStorage.limpiarTodoLocalStorage(),this.serviciosInteracion.mensajeGeneral("Sali\xf3 correctamente"),this.router.navigate(["/login"])}inicializarUSVacioMen(){this.usuarioLog={idUsuario:"",identificacionUsuario:"",numeroReferenciaUsuarioConsumidor:0,nombreUsuario:"",correoUsuario:"",celularUsuario:"",direccionUsuario:"",telefonoUsuario:"",clave:"",idRol:"",disponibleOperario:!0,esActivo:!0,asignacionesActivas:0,fechaRegistro:""}}traerUS(){var e=this;return(0,g.c)(function*(){try{const s=yield e.servicioLocalStorage.getDatosDeLocalStorage();s&&(e.usuarioLog={idUsuario:s.idUsuario||"",identificacionUsuario:s.identificacionUsuario||"",numeroReferenciaUsuarioConsumidor:s.numeroReferenciaUsuarioConsumidor||0,nombreUsuario:s.nombreUsuario||"",correoUsuario:s.correoUsuario||"",celularUsuario:s.celularUsuario||"",direccionUsuario:s.direccionUsuario||"",telefonoUsuario:s.telefonoUsuario||"",clave:s.clave||"",idRol:s.idRol||"",disponibleOperario:s.disponibleOperario||!0,esActivo:s.esActivo||!0,asignacionesActivas:s.asignacionesActivas||0,fechaRegistro:s.fechaRegistro||""},e.idQuienInicia=e.usuarioLog.idUsuario,console.log("ROL: ",e.usuarioLog.idRol),e.clasificarRolSegunStorage(e.usuarioLog.idRol))}catch(s){console.error("Error al traer el usuario del LocalStorage:",s),e.cerrarSesion()}})()}paraverPerfilconId(e){this.router.navigate(["/usuario",e])}irTodosLosUsuarios(){this.router.navigate(["/usuarios"])}irTodosLosOperarios(){this.router.navigate(["/operarios"])}irAsignacionesDelOperador(){this.router.navigate(["/asignaciones-operador"])}clasificarRolSegunStorage(e){"4"==e?(console.log("Us-Cons"),this.visibleReportes=!1,this.visibleOperarios=!1,this.visibleUsuarios=!1,this.visibleAsignaciones=!1):"1"==e||"2"==e?(console.log("Adm - Empr"),this.visibleReportes=!0,this.visibleOperarios=!0,this.visibleUsuarios=!0,this.visibleAsignaciones=!1):"3"==e?(console.log("Op"),this.visibleReportes=!0,this.visibleOperarios=!1,this.visibleUsuarios=!1,this.visibleAsignaciones=!0):(console.log("ROL DESCONOCIDO"),this.visibleReportes=!1,this.visibleOperarios=!1,this.visibleUsuarios=!1,this.visibleAsignaciones=!1)}}return(o=u).\u0275fac=function(e){return new(e||o)(i.GI1(l.E5),i.GI1(p.G),i.GI1(v.T),i.GI1(p.G),i.GI1(f.$),i.GI1(h.s))},o.\u0275cmp=i.In1({type:o,selectors:[["app-menu"]],decls:32,vars:4,consts:[["contentId","main-content"],[1,"ion-padding"],[3,"click"],[4,"ngIf"],["id","main-content",1,"ion-page"],["slot","start"]],template:function(e,s){1&e&&(i.I0R(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),i.OEk(4,"Menu"),i.C$Y()()(),i.I0R(5,"ion-content",1)(6,"ion-list")(7,"ion-menu-toggle")(8,"ion-item")(9,"ion-label",2),i.qCj("click",function(){return s.redirectMenu("/reportes",s.usuarioLog.idUsuario)}),i.OEk(10," Reportes "),i.C$Y()(),i.yuY(11,C,3,0,"ion-item",3)(12,M,3,0,"ion-item",3)(13,U,3,0,"ion-item",3),i.I0R(14,"ion-item")(15,"ion-label",2),i.qCj("click",function(){return s.paraverPerfilconId(s.usuarioLog.idUsuario)}),i.OEk(16," Perfil "),i.C$Y()(),i.I0R(17,"ion-item")(18,"ion-label",2),i.qCj("click",function(){return s.cerrarSesion()}),i.OEk(19," Cerrar Sesion "),i.C$Y()()()()()(),i.I0R(20,"div",4)(21,"ion-header")(22,"ion-toolbar")(23,"ion-buttons",5),i.wR5(24,"ion-menu-button"),i.C$Y(),i.I0R(25,"ion-title"),i.OEk(26,"Gestion Reportes "),i.C$Y()()(),i.I0R(27,"ion-content",1)(28,"p"),i.OEk(29),i.C$Y(),i.I0R(30,"p"),i.OEk(31," Bienvenido a su aplicacion de confianza de atencion al cliente. S\xed necesita realizar un reporte, dirijase a las 3 lineas de la parte superior izquierda. "),i.C$Y()()()),2&e&&(i.yG2(11),i.E7m("ngIf",s.visibleAsignaciones),i.yG2(),i.E7m("ngIf",s.visibleUsuarios),i.yG2(),i.E7m("ngIf",s.visibleOperarios),i.yG2(16),i.cNF(s.usuarioLog.nombreUsuario))},dependencies:[m.u_,t.GS,t._i,t.wB,t.Yb,t.QR,t.OC,t.$C,t.QT,t.WY,t.tM,t.Md]}),u})()}];let O=(()=>{var o;class u{}return(o=u).\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.a4G({type:o}),o.\u0275inj=i.s3X({imports:[l.qQ.forChild(b),l.qQ]}),u})();var R=n(4716);let I=(()=>{var o;class u{}return(o=u).\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.a4G({type:o}),o.\u0275inj=i.s3X({imports:[m.MD,O,t.wZ,R.y]}),u})()}}]);